\section{Notions of Completeness and Their Preservation Properties}\label{sec:completeness}

In this section we investigate two main questions. The first is how to
define completeness in the context of an internal category. In order
to provide a satisfactory answer, we will want this notion of
completeness to be preserved and reflected by $\family(-)$, so that we
can continue to work with fibrations. Next, we will need to see what
notions equivalences preserve completeness. In particular, many of our
categories will provide only a weak (but sufficient!) notion of
completeness and it is not obvious that it will be preserved by only
internal equivalences.

To begin with, internal categories, like normal categories, give us a
simplistic method of defining finite limits. For instance, products
may be defined as follows.
\begin{defn}\label{defn:completeness:products}
  An internal category $C$ is said to have products if
  $\Delta : C \to C \times C$ has a right adjoint.
\end{defn}
Similarly, the existence of equalizers can be defined by asserting the
existence of a right adjoint of the functor
$C \to C^{\rightrightarrows}$, the internal category of parallel
arrows. The reader may consult~\citet{Jacobs:99} for a more detailed
account of this in Chapter 7. This, moreover, can be seen to be the
right notion of finite limit for externalizations as well.
\begin{thm}\label{defn:completeness:finlimexternalization}
  $\family(C)$ has fiberwise finite limits if and only if $C$ has
  finite limits.
\end{thm}
\begin{proof}
  \todo{Flesh me out!}
\end{proof}
Often times the existence of such an adjoint is too strong a
condition. Working internally to a topos, another reasonable approach
would be to state the existence of a limit cone using the internal
language. That is for example,
\begin{defn}\label{defn:completeness:weakproducts}
  An internal category $C$ is said to have weak products if there is
  $Z$ has an epi onto $1$ where $Z$ is defined as
  \[
    Z \triangleq \forall a, b \in C_0.\ \exists c, \pi_1, \pi_2.
    \ \forall d.\ (\exists f_1 f_2.\ f_1 : d \to a \mathrel{\wedge} f_2 : d \to b) \implies
    \exists! g.\ g : c \to d \mathrel{\wedge} \pi_i \circ g = f_i\}
  \]
  Where the proposition
  $f : A \to B \triangleq \partial_0(f) = A \mathrel{\wedge} \partial_1(f) = B$.
\end{defn}
These definitions can be shown to coincide if and only if the topos
satisfies the axiom of choice\footnote{I'm 80\% sure at least} but
since the effective topos does not, we are then left with two
different notions of finite limits. The one based on the existence of
adjoints essentially asserts the global existence of a limit cone and
will be called the \emph{strong} notion of finite limits. The one
based on the internal language is implied by this and is called the
\emph{weak} or \emph{local} version of a finite limit.

We can take this idea to its natural completion and define (weak)
completeness for all small limits.
\begin{defn}\label{defn:complete:complete}
  An internal category $C$ is strongly complete if for all internal
  categories $D$ the diagonal functor $C \to C^D$ has a right
  adjoint.
\end{defn}
\begin{defn}\label{defn:complete:weakcompletebroken}
  An internal category $C$ is weakly complete if for all internal
  categories $D$ the formula specifying an adjoint to the the diagonal
  functor $C \to C^D$ specifies an object with an epi onto $1$.
\end{defn}
We now wish to check that this definition is useful, that is, that it
is preserved and reflected by equivalences. In order to do this, of
course, we must define a notion of equivalence. Again, there are two
reasonable notions. We can assert either the existence of a
pseudo-inverse globally, that is, in the ambient logic, or merely the
existence internally. The former notion is sufficient to determine an
equivalence relation, but the latter does not. It does not, for
instance, satisfy symmetry because of the potential difference between
internal and external existence. Therefore, we need to characterize
the completion of weak equivalences to an equivalence relation.
\begin{defn}\label{defn:complete:weakequivalence}
  Two internal categories, $C$ and $D$, are said to be weakly
  equivalent if there is an third internal category, $E$, so that
  there is a pair weak equivalences, $F : E \to C$ and $G : E \to D$.
\end{defn}
We wish to generalize the notion of equivalences of internal
categories to equivalences of their fibrations so that we can work
with fibrations in later technical developments. This is done in two
steps, first of all
\begin{thm}\label{thm:complete:equivalencelifts}
  An equivalence of internal categories lifts to a fibered equivalence
  of their externalizations.
\end{thm}
\begin{proof}
  \todo{Should be a straightforward check}
\end{proof}
Weak equivalences are more difficult because there isn't a
corresponding notion of existential quantifier at in the metalogic
which corresponds to internal existence. In order to deal with this,
we draw inspiration from Kripke-Joyal semantics where $\exists$ is
modelled with a change of base. \todo{elaborate}
\begin{thm}\label{thm:complete:weakequivalencelifts}
  $F : C \to D$ is a weak equivalence if it lifts to $\family(F)$ so
  that $\family(F)$ is cartesian, full, faithful, and for any $X$ in
  $\cat{Fam}(D)$ there is a $Y \in \cat{Fam}(C)$ so that
  there is an $\alpha \in \hom(\family(D)(\family(F)(Y)), X)$. so that
  $\alpha^*(X) \cong \family(F)(Y)$.
\end{thm}
\begin{proof}
  \todo{This is weird but not too bad}
\end{proof}
Now we turn to the fatal flaw in
Definition~\ref{defn:complete:weakcompletebroken}.
\begin{thm}\label{thm:complete:weakcompletenotpreserved}
  Weak completeness is not preserved by weak equivalences.
\end{thm}
\begin{proof}
  Sketch the reason why this is true.
\end{proof}
This is a major issue, in category theory it is after all a cardinal
sin to not be preserved by isomorphism or equivalence. In this case,
we are in trouble because we will wish to establish the completeness
of one internal category and transfer this to more convenient
categories for semantics. In order to handle this, we will strengthen
our notion of weak completeness to \emph{indexed} diagrams. An indexed
diagram is given in the usual category theoretic style, as a functor
from an internal category in $\Ccat/I$ into $I^*(C)$. Therefore, our
definition of (weak) completeness is simply that an internal category
is (weakly) complete by the previous definition in each slice.
\begin{thm}\label{thm:complete:preservation}
  The following hold
  \begin{enumerate}
  \item Strong equivalences preserve and reflect both strong and weak
    completeness
  \item Weak equivalences preserve and reflect weak completeness
  \end{enumerate}
\end{thm}
\begin{proof}
  \todo{This is tricky but important}
\end{proof}
As a final observation, this notion of completeness has a pleasant
characterization at the level of fibrations.
\begin{thm}\label{thm:complete:completefibration}
  The following hold
  \begin{itemize}
  \item $C$ is complete if $\family(C)$ has fiberwise finite limits and a
    right adjoint to reindexing.
  \item $C$ is weakly complete if $\family(C)$ if given a finite
    diagram in the fiber over $I$, there is a $K \epi I$ so that the
    reindexing of the diagram has a limit over $K$. Similarly, for
    each $u : I \to J$ there is a $e : J \epi K$ so that $(eu)^*$ has
    a right adjoint.
  \end{itemize}
  Furthermore, (weak) equivalences of fibration preserve (weak)
  completeness.
\end{thm}
\begin{proof}
  \todo{Really tricky but very important}
\end{proof}
At this point we have developed all the theory that we need to being
our investigation of what small complete categories exist in the
effective topos.

%%% Local Variables:
%%% mode: latex
%%% TeX-master: "main"
%%% End:
